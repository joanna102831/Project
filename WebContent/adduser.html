<!DOCTYPE html>
<html>
  <head>
    <title>註冊</title>
    <meta charset="utf-8">  
    
    <script language="JavaScript">
		function date(){
		var today = new Date();
		var dd = today.getDate();
		var mm = today.getMonth()+1; //January is 0!
		var yyyy = today.getFullYear();
		 if(dd<10){
        	dd='0'+dd
    	} 
    	if(mm<10){
        	mm='0'+mm
    	} 
		today = yyyy+'-'+mm+'-'+dd;
		//alert(today);
		document.userform.birthday.setAttribute("max", today);
		}
      
      function check_Data()
      {	var str=document.userform;
   		var account=/[A-Za-z0-9]+/;
   		var passwd=/\w+/;
   		var mail=/\w+\@\w+\.\w+(\.\w+)?/;
   		
   		var str1= new String(str.id.value.toUpperCase());
   		var str2= new String(str.pw.value.toUpperCase());
   		var str3= new String(str.email.value);
   		var str4= new String(str.user.value);
   		var str5= new String(str.birthday.value);
   		var str6= new String(str.tel.value);
   		
   		if(account.test(str1)==false){
   			alert("帳號格式輸入錯誤")
   			reinput1();
   		}
   		else if(passwd.test(str2)==false){
   			alert("密碼格式輸入錯誤")
   			reinput2();
   		}
   		else if(str4==""){
   			alert("請填入姓名")
   			reinput4();
   		}else if(str5==""){
   			alert("請填入生日")
   			reinput5();
   		}else if(str6==""){
   			alert("請填入電話號碼")
   			reinput6();
   		}else if(mail.test(str3)==false){
   			alert("email格式輸入錯誤")
   			reinput3();
   		}else{
   			str.submit();
   		}
   		
      }
	function reinput1(){
		document.userform.id.focus();
		document.userform.id.select();
	} 
	function reinput2(){
		document.userform.pw.focus();
		document.userform.pw.select();
	} 
	function reinput3(){
		document.userform.email.focus();
		document.userform.email.select();
	}
	function reinput4(){
		document.userform.user.focus();
		document.userform.user.select(); 
	}
	function reinput5(){
		document.userform.birthday.focus();
		document.userform.birthday.select();
	}
	function reinput6(){
		document.userform.tel.focus();
		document.userform.tel.select();
	}
      
      
	</script>
	<style type="text/css">
		body{
			width:30%;
			margin: auto;
		}

    	div {		
		border-style:double hidden;
		border-width: 3px;
		border-color: orange;
		
    	}
			
    </style>
  </head>
  <body>
    <h2>基本資料</h2>
    <form name="userform" method="post" action="dosession">
      <div>
        <p>
        <label style='color:red'>*:必須輸入</label><p>
        *帳號 ：<input type="text" name="id" size=12 ><p>
        *密碼 ：<input type="password" name="pw" size=8 ><p>
        *姓名：<input type="text" name="user" size=14 ><p> 
        *性別：<input type="radio" name="gender" value="M" checked>先生
             <input type="radio" name="gender" value="F">小姐<p>
        *生日：<input type="date" name="birthday" max="#" onclick="date()" ><p>
        *電話：<input type="tel" name="tel" size=14 ><p>
        *電子信箱：<input type="text" name="email" size=30 ><p>
		
		</div>
      <br><input type="button" value="確定" onclick="check_Data()">
      <input type="reset" name="reset" value="重新填寫">     
    </form>
  </body>
</html>
